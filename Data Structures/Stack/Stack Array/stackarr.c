#include<stdio.h>

#include"stackarr.h"
#include"STD_TYPES.h"

#define max 50

/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------*/

static s32 arr[max];
static s32 top;



/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------*/

/*******************************************************************
**  Initialize Stack : A function that						 	  **
**  	Takes  :												  **
**	 			Nothing											  **
**      Returns:												  **
**  			Nothing											  **
**	 	Description:											  **	
**	( Initializes the top of stack with an invalid value		  **
**	 			To indicate that it is empty) 					  **
********************************************************************/

void Stack_Init(void)
{
	top=-1;	
}


/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*******************************************************************
**  Stack is Empty ? : A function that						 	  **
**  	Takes  :												  **
**	 			Nothing											  **
**      Returns:												  **
**  			1: if the the stack is empty					  **
**				0: if the stack contains data					  **
**	 															  **
********************************************************************/

u8 Stack_IsEmpty(void)
{
	if(top == -1)
	{
		return 1 ;
	}
	else
	{
		return 0 ;
	}
	
}


/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*******************************************************************
**  Stack is Full ? : A function that						 	  **
**  	Takes  :												  **
**	 			Nothing											  **
**      Returns:												  **
**  			1: if the the stack is Full						  **
**				0: if the stack has empty locations 			  **
**	 															  **
********************************************************************/

u8 Stack_IsFull(void)
{
	if(top == (max-1))
	{
		return 1;
	}
	else
	{
		return 0;
	}
	
}

/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*******************************************************************
**  Stack Get Size : A function that						 	  **
**  	Takes  :												  **
**	 			Nothing											  **
**      Returns:												  **
**  			The size of the stack							  **
**	 															  **
********************************************************************/



u32 Stack_GetSize(void)
{
	return top+1;
}


/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*******************************************************************
**  Stack Push : A function that							 	  **
**  	Takes  :												  **
**	 			The data to be pushed							  **
**      Returns:												  **
**  			Error State (indicates the successful push)		  **
**	 															  **
********************************************************************/

u8 Stack_Push(s32 data)
{
	u8 error_state=ok;
	
	if(Stack_IsFull())
	{
		printf("The stack is full , Invalid Pushing Operation!!!\n");
		error_state =nok;
	}
	else
	{
		top=top+1;
		arr[top]=data;
		printf("Successful Pushing Opperation\n");
		
	}
	return error_state;
}



/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*******************************************************************
**  Stack Pop : A function that								 	  **
**  	Takes  :												  **
**	 			A pointer to Hold the Popped Data				  **
**      Returns:												  **
**  			Error State (indicates the successful push)		  **
**	 															  **
********************************************************************/

u8 Stack_Pop(s32* data_ptr)
{
	u8 error_state=ok;
	
	if(Stack_IsEmpty())
	{
		printf("The stack is empty , Invalid Popping Operation!!!\n");
		error_state =nok;
	}
	else if(data_ptr == NULL)
	{
		error_state = nok ;
	}
	else
	{
		*data_ptr = arr[top];
		top=top-1;
	
		printf("Successful Popping Opperation\n");
		
	}
	return error_state;
}

/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*******************************************************************
**  Stack Pop : A function that								 	  **
**  	Takes  :												  **
**	 			A pointer to Hold the Popped Data				  **
**      Returns:												  **
**  			Error State (indicates the successful push)		  **
**	 															  **
********************************************************************/

u8 Stack_Peek(s32* data_ptr)
{
	u8 error_state=ok;
	
	if(Stack_IsEmpty())
	{
		printf("The stack is empty , Invalid Popping Operation!!!\n");
		error_state =nok;
	}
	else if(data_ptr == NULL)
	{
		error_state = nok ;
	}
	else
	{
		*data_ptr = arr[top];
		
	
		printf("Successful Peeking Opperation\n");
		
	}
	return error_state;
}


/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*******************************************************************
**  Stack Display : A function that							 	  **
**  	Takes  :												  **
**	 			Nothing											  **
**      Returns:												  **
**  			Nothing											  **
**	 															  **
********************************************************************/

void Stack_Display(void)
{
	s32 i ;
	
	if(Stack_IsEmpty())
	{
		printf("The stack is empty!!!\n");
		
	}
	else
	{
		printf("The Stack Is : \n");
		for(i=top ; i>=0 ; i--)
		{
			printf("%d ",arr[i]);	
		}
		printf("\n");
	}
	
}